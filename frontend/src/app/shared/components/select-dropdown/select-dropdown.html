<div class="select-dropdown">
  <button type="button" class="trigger" (click)="toggle()" [class.open]="open()">
    @if (selectedOption()?.dotColor) {
      <span class="dot" [style.background-color]="selectedOption()?.dotColor"></span>
    }
    <span class="label">{{ displayLabel() }}</span>
    <svg class="chevron" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
    </svg>
  </button>

  @if (open()) {
    <div class="dropdown">
      @for (option of options(); track option.value) {
        <button
          type="button"
          class="option"
          [class.selected]="option.value === value()"
          (click)="select(option)"
        >
          @if (option.dotColor) {
            <span class="dot" [style.background-color]="option.dotColor"></span>
          }
          <span class="option-label">{{ option.label }}</span>
          @if (option.value === value()) {
            <svg class="check" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
          }
        </button>
      }
    </div>
  }
</div>
