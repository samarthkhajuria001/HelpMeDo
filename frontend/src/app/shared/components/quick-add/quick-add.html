<div class="quick-add" [class.expanded]="expanded()">
  <div class="input-row">
    <span class="plus-icon">+</span>
    <input
      type="text"
      class="title-input"
      placeholder="Add a task..."
      [ngModel]="title()"
      (ngModelChange)="title.set($event)"
      (keydown)="onKeydown($event)"
      [disabled]="submitting()"
    />
    <button
      type="button"
      class="more-btn"
      (click)="toggleExpanded()"
    >
      {{ expanded() ? 'Less' : 'More' }}
    </button>
  </div>

  @if (expanded()) {
    <div class="options-row">
      <app-select-dropdown
        [options]="priorityOptions"
        [value]="priority()"
        (change)="onPriorityChange($event)"
      />
      <app-date-picker
        [value]="dueDate()"
        (change)="onDateChange($event)"
      />
      <button
        type="button"
        class="add-btn"
        [disabled]="!title().trim() || submitting()"
        (click)="onSubmit()"
      >
        Add
      </button>
    </div>
  }
</div>
